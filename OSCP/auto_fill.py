import argparse

# python .\auto_fill.py -i ip
# python .\auto_fill.py -d domain

parser = argparse.ArgumentParser(description='fill ip')
parser.add_argument('-i', '--arg1', help='ip')
parser.add_argument('-d', '--arg2', help='domain')
# parser.add_argument('-w', '--arg3', help='wordlist')

args = parser.parse_args()

ip = ''
wordlist = ''
domain = ''

if args.arg1:
    ip = args.arg1
else:
    print('-i flag not provided.\nUsage: \npython .\\fill_ip.py -i {ip}\npython .\\fill_ip.py -i {ip} -d {domain}')
    exit ()    

if args.arg2:
    domain = args.arg2

string = f'nmap {ip} > basic_nmap_{ip}.txt\nnmap -p- {ip} > all_ports_nmap_{ip}.txt\nports '\
f'= all_ports_nmap_{ip}.txt > (grep ^[0-9] | cut -d ''/'' -f 1 | tr ''\\n'', \',\' | ser s/, $//)\n'\
f'nmap -p $ports -sVC {ip} > found_ports_nmap_{ip}.txt\n'

#for subdomain enum
string2 = '\n'
go = f'gobuster dir -u {domain} -w/usr/share/wordlists/dirbuster/{wordlist}'

print(string, string2, go)