#include <stdio.h>
#include <stdlib.h>

// AAAAAAAAAAAAAAAAAAAA\xef\xbe\xad\xde
// gcc .\buffer.c -o buffer ; python -c "print('A'*20 + '\xef\xbe\xad\xde')" | ./buffer
int main(){
    char buf[20];
    long val = 0x41414141;

    printf("Correct val's value from 0x41414141 -> 0xdeadbeef!\n");
    printf("Here is your chance: \n");
    scanf("%s24", &buf);

    printf("buf: %s\n", buf);
    printf("val: 0x%08x\n", val);
    printf("buf location: %p\n", &buf);
    printf("val location: %p\n", &val);
    
    if(val==0xdeadbeef){
        printf("Success!");
        exit(1);
        // system("/bin/sh");
    } else{
        printf("way off!\n");
        exit(1);
    }

    return 0;
}