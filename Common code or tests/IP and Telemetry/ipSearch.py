import requests
import json
import re

# http://ip-api.com/json/{query}?fields=status,message,continent,
# country,countryCode,region,regionName,city,district,zip,lat,
# lon,timezone,isp,org,as,mobile,proxy,hosting,query

ip = input('Enter an IPv4, IPV6, or domain name to get geolocation data:\n')
ipv4_pattern = r'((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)'
x = re.search(ipv4_pattern, ip)

# response = requests.get('http://ip-api.com/json/'+ip)
response = requests.get('http://ip-api.com/json/'+ip+'?fields=status,message,continent,\
                        country,countryCode,region,regionName,city,district,zip,lat,\
                        lon,timezone,isp,org,as,mobile,proxy,hosting,query')

data = json.loads(response.content)
for idx in data:
    print(str(idx)+': '+str(data[idx]))