import argparse

# python .\fill_ip.py -i ip
# python .\fill_ip.py -i ip -d domain

wordlist = 'directory-list-2.3-medium.txt'

parser = argparse.ArgumentParser(description='fill ip and domain')
parser.add_argument('-i', '--arg1', help='ip')
parser.add_argument('-d', '--arg2', help='domain')

args = parser.parse_args()

ip = domain = dns = None

if args.arg1:
    ip = args.arg1
else:
    print('-i flag not provided.\nUsage: \npython .\\fill_ip.py -i {ip}\npython .\\fill_ip.py -i {ip} -d {domain}')
    exit ()    

if args.arg2:
    domain = args.arg2
else:
    print('-d flag not provided.\nUsage: \npython .\\fill_ip.py -i {ip}\npython .\\fill_ip.py -i {ip} -d {domain}')
    exit ()    

go = f'gobuster dir -u {ip} -w/usr/share/wordlists/dirbuster/{wordlist}'
nmap = f'nmap -sVC {ip}'
dirsearch = f'dirsearch -u {ip}'

if domain:
    dns = f'gobuster dns -d {domain} -w /usr/share/wordLists/dnsmap.txt'

file_name = f'cl_for_{ip}.txt' if dns is None else f'cl_for_{ip}_{dns}.txt'
file = open('cli_commands.txt', 'w')
file.write(f'{go}\n{nmap}\n{dirsearch}\n{dns}')

print (f'{nmap}\n{go}\n{dirsearch}\n{dns}')