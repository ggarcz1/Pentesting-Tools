# get current IP 
# run translation algorithm
# build packet
# send packet

import requests, json

def search(ipAddress):
    response = requests.get('http://ip-api.com/json/'+ipAddress)
# validIPv4.go([ip])
    data = json.loads(response.content)
    for idx in data:
        print(str(idx)+': '+str(data[idx]))


# determine public IP
response = requests.get('http://checkip.dyndns.org/')
# change bytes to a string
response = response.content.decode("utf-8")
# pull out the IP address from the website
ipAddress = response[76:89]
# print('Current public IP Address:', ipAddress)
search(ipAddress)

# split ip address
lst = ipAddress.split('.')
numLst = []
# rebuild with new random IP
for idx in lst:
    val = int(idx) + 16
    if val > 255:
        val = val % 255 + 1 
    numLst.append(val)

# build newIP 
newIP = str(numLst[0])+'.'+str(numLst[1])+'.'+str(numLst[2])+'.'+str(numLst[3])
# print(newIP)
search(newIP)