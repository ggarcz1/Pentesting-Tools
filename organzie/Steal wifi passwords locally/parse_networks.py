import datetime

target_ssid = 'SSID'

file_name = 'networks.txt'

f = open(f'{file_name}', 'r')

counter = 1
for line in f:
    if target_ssid in line:
        # remove \n
        line = line[:-1]
        
        start_index = line.find(':')
        end_index = start_index + len(line)
        substring = line[start_index + 1:end_index + 1]

        if substring == '':
            substring = 'No SSID name configured'

        # remove leading and trailing whitespace
        
        substring = substring.strip()
        # print(f'{counter}: {substring}')
        print(f'{substring}')
        counter += 1


print(f'\n\nDone.  There are {counter} SSIDs available in range.\n\n')

answer = input('Conduct automated Wigle search? Y or N:')
if answer.upper() == 'Y':
    print('Searching...')
    time = datetime.datetime.now().time()
    date = datetime.date.today()
    wigle_search_file = f'wigle_search_info_{date}_AT_{time}.txt'

    
    print(f'Done! See the file {wigle_search_file} for more information')
else: 
    print('Exiting...')
    exit(0)

